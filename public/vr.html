<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Orbital HUD VR Console</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background: #000;
        color: #00ffaa;
        font-family: "Courier New", Courier, monospace;
      }
      body {
        display: flex;
        align-items: stretch;
        justify-content: stretch;
      }
      #hud-wrapper {
        flex: 1;
        display: flex;
      }
      a-scene {
        flex: 1;
      }
      .loading {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #000;
        color: #00ffaa;
        letter-spacing: 0.08em;
        font-size: 1.1rem;
        pointer-events: none;
        z-index: -1;
      }
    </style>
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script type="module" src="/scripts/hud-vr.js" defer></script>
  </head>
  <body>
    <div id="hud-wrapper">
      <a-scene
        embedded
        renderer="colorManagement: true; physicallyCorrectLights: true; foveationLevel: 2"
        vr-mode-ui="enabled: true"
        background="color: #01040f"
        hud-draw="canvas: #hud-canvas; interval: 50"
      >
        <a-assets timeout="12000">
          <canvas id="hud-canvas" width="512" height="512"></canvas>
        </a-assets>

        <a-entity position="0 1.6 0">
          <a-camera wasd-controls-enabled="false">
            <a-cursor color="#00ffaa" fuse="false"></a-cursor>
          </a-camera>
        </a-entity>

        <a-plane
          id="crt-surface"
          position="0 1.6 -1.7"
          rotation="0 0 0"
          width="1.8"
          height="1.8"
          crt-display="canvas: #hud-canvas"
        ></a-plane>

        <a-entity
          id="hud-console"
          position="-1.2 1.3 -1.4"
          rotation="0 25 0"
          hud-controls
        ></a-entity>

        <a-entity
          geometry="primitive: plane; width: 6; height: 6"
          rotation="-90 0 0"
          position="0 -0.01 -1.5"
          material="color: #021018; opacity: 0.95"
        ></a-entity>

        <a-entity laser-controls="hand: left" raycaster="objects: .interactive"></a-entity>
        <a-entity laser-controls="hand: right" raycaster="objects: .interactive"></a-entity>
      </a-scene>
      <div class="loading">Initializing holographic telemetryâ€¦</div>
    </div>
  </body>
</html>
